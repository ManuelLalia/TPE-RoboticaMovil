function [v_cmd_new, w_cmd_new] = main_loop(map, particles, v_cmd, w_cmd, ranges, angles, Ts)
%MAIN_LOOP Summary of this function goes here
%   Detailed explanation goes here
N_particles = 10;



particles = localization.sample_motion_model(particles, v_cmd, w_cmd, Ts);

new_particles = particle_filter(map, particles, v_cmd, w_cmd, ranges, angles, Ts);

pose_var = var(new_particles, 2);
if pose_var < 0.01


end

